<%- layout('layouts/boilerplate') %>

<div class="card">
    <div class="text-center mb-4">
        <i-lucide data-lucide="upload-cloud" class="icon mb-2" size="48"></i-lucide>
        <h1>Upload Your Documents</h1>
        <p>Upload your documents to send them via email</p>
    </div>

    <form action="" method="POST" enctype="multipart/form-data" class="form">
        <div class="form-group">
            <label for="document" class="file-upload-label">
                <i-lucide data-lucide="file" class="icon"></i-lucide>
                Choose a file
            </label>
            <input 
                type="file" 
                name="document" 
                id="document" 
                accept=".pdf,.doc,.docx,.txt" 
                required
                class="file-upload-input"
            >
            <div class="file-name mt-2"></div>
        </div>

        <button type="submit" class="btn btn-primary w-100">
            <i-lucide data-lucide="upload" class="icon"></i-lucide>
            Upload Document
        </button>

        <div class="supported-formats mt-4">
            <h3 class="h6 mb-2">Supported Formats</h3>
            <div class="format-list">
                <span class="format-badge">
                    <i-lucide data-lucide="file-text" class="icon"></i-lucide>
                    PDF
                </span>
                <span class="format-badge">
                    <i-lucide data-lucide="file-text" class="icon"></i-lucide>
                    DOC
                </span>
                <span class="format-badge">
                    <i-lucide data-lucide="file-text" class="icon"></i-lucide>
                    DOCX
                </span>
                <span class="format-badge">
                    <i-lucide data-lucide="file-text" class="icon"></i-lucide>
                    TXT
                </span>
            </div>
        </div>
    </form>
</div>

<script>
document.getElementById('document').addEventListener('change', function(e) {
    const fileName = e.target.files[0]?.name;
    const fileNameDiv = document.querySelector('.file-name');
    if (fileName) {
        fileNameDiv.innerHTML = `
            <div class="selected-file">
                <i-lucide data-lucide="file-text" class="icon"></i-lucide>
                ${fileName}
            </div>
        `;
        lucide.createIcons();
    } else {
        fileNameDiv.innerHTML = '';
    }
});
</script>
